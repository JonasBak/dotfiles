install() {
  # TODO if based on os
  if ! [ -x "$(command -v $1)" ]; then
    echo Installing $1
    sudo apt-get install $1 -y
  else
    echo $1 is already installed
  fi

}

backup() {
  if [ -f "$1.old" ]
  then
    echo $1 already backed up
  else 
    echo Backing up $1
    mv $1 $1.old
  fi
}

source_config_wpath(){
  echo "source $DOTFILES/.var\nsource $DOTFILES/$1\n" > ~/$2
}
source_config() {
  echo "source $DOTFILES/$1\n" > ~/$2
}

clone() {
  if [ -d $2 ] 
  then
    echo $1 already cloned
  else
    git clone $1 $2
  fi
}


# Setup var file
echo "export DOTFILES=$PWD" > $PWD/.var
export DOTFILES=$PWD

# Install required packages
source $DOTFILES/setup_scripts/req_packages

# Run all install scripts
# Burde kanskje gjøres i rekkefølge dersom det er deps mellom mapper
for script in `find $DOTFILES -maxdepth 2 -name install_\*`
do
  echo Running $script
  . $script
done

# TODO run os based conf (conf_terminal)
